<!DOCTYPE HTML>
<html lang="en-us" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using nimibook -->
        <meta charset="UTF-8">
        <title>tutorials/customize.nim</title>

        <!-- Custom HTML head -->
        <!-- custom head content -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="a book built with nimibook">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>üê≥</text></svg>">
        <link rel="stylesheet" href="../assets/css/variables.css">
        <link rel="stylesheet" href="../assets/css/general.css">
        <link rel="stylesheet" href="../assets/css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../assets/FontAwesome/css/font-awesome.min.css">

        <!-- Highlight.js Stylesheets - I could use nimib native highlight but let's keep it for styling... -->
        <link rel="stylesheet" href="../assets/css/highlight.css">
        <link rel="stylesheet" href="../assets/css/tomorrow-night.css">
        <link rel="stylesheet" href="../assets/css/ayu-highlight.css">

        <!-- Custom theme stylesheets - why the "../"? -->


        <!-- plausible analytics (new in nimibook) -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "..//assets";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                                <ol class="chapter">
                  <li class="chapter-item expanded ">
                    <a href="../index.html" tabindex="0">
                      <strong aria-hidden="true">1.</strong> Introduction
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="../tutorials/index.html" tabindex="0">
                      <strong aria-hidden="true">2.</strong> Tutorials
                    </a>
                  </li>
                  <li>
                  <ol class="section">
                  <li class="chapter-item expanded ">
                    <a href="../tutorials/customize.html" class="active" tabindex="0">
                      <strong aria-hidden="true">2.1.</strong> Customize Probeset
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="../tutorials/setup.html" tabindex="0">
                      <strong aria-hidden="true">2.2.</strong> Setup Environment
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="../tutorials/process.html" tabindex="0">
                      <strong aria-hidden="true">2.3.</strong> Data Processing
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="../tutorials/alignment.html" tabindex="0">
                      <strong aria-hidden="true">2.4.</strong> Data Alignment
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="../tutorials/troubleshoot.html" tabindex="0">
                      <strong aria-hidden="true">2.5.</strong> Troubleshooting
                    </a>
                  </li>
                  </ol>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="../download.html" tabindex="0">
                      <strong aria-hidden="true">3.</strong> Download Probes
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="../papers.html" tabindex="0">
                      <strong aria-hidden="true">4.</strong> Papers Using FrogCap
                    </a>
                  </li>
                </ol>
<!-- I could use also an unescaped context value -->
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <!-- custom header content -->                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">FrogCap</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/chutter/FrogCap-Sequence-Capture" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>


                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1>Create your own customized FrogCap probe set</h1>
<p>This page will guide you on creating your own customized FrogCap probe set. You can draw markers from the growing FrogCap database that have been previously tested, and thus the output baits are ready for synthesis with no further processing necessary. Functionality includes: (1) The ability to select markers from certain families, subfamilies, and genera; (2) Different types of markers (UCEs, exons); (3) and marker features such as proportion of informative sites and marker length.</p>
<p>To begin, download the &quot;Custom-Probe-Set&quot; folder in the main GitHub directory to your computer. The folder should contain the following files:</p>
<pre><code>     /Custom-Probe-Set
      ‚îú‚îÄ‚îÄ FrogCap_Probe-Select.R
      ‚îú‚îÄ‚îÄ Taxonomy_dataset.csv
      ‚îî‚îÄ‚îÄ Marker_Bait_dataset.csv

 *** newly generated files
</code></pre>
<p>The folder contains the three files:</p>
<table>
<thead>
<tr>
<th>File</th>
<th align="center">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>FrogCap_Probe-Select.R</td>
<td align="center">The R script for creating the custom probe set</td>
</tr>
<tr>
<td>Taxonomy_dataset.csv</td>
<td align="center">A taxonomy database for each marker and taxonomic group sequenced</td>
</tr>
<tr>
<td>Marker_Bait_dataset.csv</td>
<td align="center">Markers and their associated baits and other metadata</td>
</tr></tbody></table>
<p>Next, open the folder and edit the R script titled: &quot;FrogCap_Probe-Select.R&quot;, which will appear like so:</p>
<pre><code class="language-r">###############################################################################
########   Step 1: Create locus summary dataset               #################
###############################################################################
###############################################################################
###############################################################################

###### Directory setup ########

work.dir = &quot;/Full/Directory/Path/to/Custom-Probe-Set&quot;
output.file =&quot;Custom&quot;

#The two metadata files should be placed in the working directory 
tax.data.file = &quot;Taxonomy_dataset.csv&quot;
marker.data.file = &quot;Marker_Bait_dataset.csv&quot;

#################################################
#Features you would like the probe set to have
#################################################

probe.size = 20000 #Number of probes, maximum is currently 20k for custom kits. use full kit
uce.include = TRUE #Other option FALSE, no UCEs
most.informative = TRUE #FALSE = randomly selects markers rather than by information content
min.exon.length = 200 #The minimum exon length
max.exon.length = 100000 #The maximum exon length

#Select a family or subfamily from the two lists below
clade.select = &quot;Microhylidae&quot;

#You can also select two or more taxonomic groups [overrides previous clade select]
#The program will select markers present in BOTH. 
#Must both be the same phylogenetic scale (Family / Subfamily)
#Cannot be from different Superfamilies (Ranoidea / Hyloidea)
clade.select = c(&quot;Mantellidae&quot;, &quot;Rhacophoridae&quot;)

</code></pre>
<p>This section is the only section that needs editing. Namely, the directories should be the full path to make things go smoother. You can set various parameters here for the probe set. When finished editing, run the R script in the command line:</p>
<pre><code class="language-bash">
&gt; Rscript FrogCap_Probe-Select.R

</code></pre>
<p>Which should have generated 3 files:</p>
<pre><code>     /Custom-Probe-Set
      ‚îú‚îÄ‚îÄ FrogCap_Probe-Select.R
      ‚îú‚îÄ‚îÄ Taxonomy_dataset.csv
      ‚îú‚îÄ‚îÄ Marker_Bait_dataset.csv
      ‚îú‚îÄ‚îÄ Custom_Baits.fa ***
      ‚îú‚îÄ‚îÄ Custom_Markers.fa ***
      ‚îî‚îÄ‚îÄ Custom_metadata.txt ***

 *** newly generated files
</code></pre>
<p>And the three output files are: (1) Custom_baits.fa, which are the bait sequences as a separate Fasta entry per bait. These are ready for synthesis and require no further processing since this has already been done; (2) Custom_Markers.fa, which are the assembled markers the baits are derived from. This is used in downstream pipeline analyses; and (3) Custom_metadata.txt, which are the metadata that defined each marker for your information. Not needed for any analysis.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../tutorials/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../tutorials/setup.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../tutorials/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../tutorials/setup.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>







        <script src="../assets/js/clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../assets/js/highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../assets/js/book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
